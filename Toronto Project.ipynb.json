{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PART 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 222,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Get HTML of the desired wiki page\n",
    "import requests\n",
    "url = requests.get(\"https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M\").text\n",
    "\n",
    "# Parse data from wiki page into soup object\n",
    "from bs4 import BeautifulSoup\n",
    "soup = BeautifulSoup(url,'lxml')\n",
    "\n",
    "# Extract the table containing the desired data\n",
    "my_table = soup.find('table', class_ = 'wikitable sortable')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 269,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(103, 3)"
      ]
     },
     "execution_count": 269,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Create empty lists for each column in final table\n",
    "A=[]\n",
    "B=[]\n",
    "C=[]\n",
    "\n",
    "# Pull contents from table and place into created lists\n",
    "for row in my_table.findAll(\"tr\"):\n",
    "    cells = row.findAll('td')\n",
    "    if len(cells)==3:\n",
    "        col_A_contents = (cells[0].find(text=True)).rstrip()\n",
    "        col_B_contents = (cells[1].find(text=True)).rstrip()\n",
    "        col_C_contents = (cells[2].find(text=True)).rstrip()\n",
    "        if col_B_contents != 'Not assigned':\n",
    "            A.append(col_A_contents)\n",
    "            B.append(col_B_contents)\n",
    "            if col_C_contents == 'Not assigned':\n",
    "                col_C_contents = col_B_contents\n",
    "            C.append(col_C_contents) \n",
    "\n",
    "# Import pandas to convert list to data frame\n",
    "import pandas as pd\n",
    "df = pd.DataFrame(A, columns = ['Postal Code'])\n",
    "df['Borough'] = B\n",
    "df['Neighbourhood'] = C\n",
    "\n",
    "# Consolidate duplicate Postal Codes\n",
    "df_neighbourhood = df.groupby(['Postal Code', 'Borough'])['Neighbourhood'].apply(list)\n",
    "df_neighbourhood = df_neighbourhood.to_frame()\n",
    "df_neighbourhood = df_neighbourhood.reset_index()\n",
    "\n",
    "# Print df shape\n",
    "df_neighbourhood.shape"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PART 2"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 283,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Import geospatial data\n",
    "url2 = \"https://cocl.us/Geospatial_data\"\n",
    "df_geo = pd.read_csv(url2)\n",
    "\n",
    "# Merge the Neighbourhood df with the Geospatial df\n",
    "df_merged = pd.merge(df_neighbourhood, df_geo, on='Postal Code')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# PART 3"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 299,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Filter results to boroughs containing the word 'Toronto'\n",
    "toronto_data = df_merged[df_merged['Borough'].str.contains('Toronto')] \n",
    "\n",
    "# Get geographical coordinates of Toronto\n",
    "address = 'Toronto, ON'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 300,
   "metadata": {},
   "outputs": [],
   "source": [
    "# !conda install -c conda-forge geopy --yes\n",
    "from geopy.geocoders import Nominatim\n",
    "\n",
    "# !conda install -c conda-forge folium=0.5.0 --yes\n",
    "import folium\n",
    "\n",
    "geolocator = Nominatim(user_agent=\"toronto_explorer\")\n",
    "location = geolocator.geocode(address)\n",
    "latitude = location.latitude\n",
    "longitude = location.longitude"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 305,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTYzLC03OS4zODcyMDddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzdjZDhkNDc0ZGExYjQ2ODhhZjk1ZmViMzYxOGMyYTIyID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82Nzc2ZGYzODhjNjc0ODdkYTRiYWZmZDNkMzViZWU3MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3NjM1NzM5OTk5OTk5LC03OS4yOTMwMzEyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU0Mzc0YjUwOTdkZTQ3Mjk4MzcyMWE2MGZhMDIxOWY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZmMmNmMzE3NWVhZTQ4Njc4Mzg5ODE2ODNlMWI2ZDljID0gJCgnPGRpdiBpZD0iaHRtbF82ZjJjZjMxNzVlYWU0ODY3ODM4OTgxNjgzZTFiNmQ5YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7VGhlIEJlYWNoZXMmIzM5O10sIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTQzNzRiNTA5N2RlNDcyOTgzNzIxYTYwZmEwMjE5Zjcuc2V0Q29udGVudChodG1sXzZmMmNmMzE3NWVhZTQ4Njc4Mzg5ODE2ODNlMWI2ZDljKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY3NzZkZjM4OGM2NzQ4N2RhNGJhZmZkM2QzNWJlZTcxLmJpbmRQb3B1cChwb3B1cF81NDM3NGI1MDk3ZGU0NzI5ODM3MjFhNjBmYTAyMTlmNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NDcyMjRhMDA4YjU0MDY0YWUxYjIxZjM4MDZjOTM5ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU1NzEsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNTI1MzczOGRmZTU0MDdlOWRiZWZiOTZmYzY1MGY5YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZmY3ZGY5MjMwYzI0ZGEwOTM2ZTViNTdkMTZhMGFkOSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGZmN2RmOTIzMGMyNGRhMDkzNmU1YjU3ZDE2YTBhZDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1RoZSBEYW5mb3J0aCBXZXN0JiMzOTssICYjMzk7Uml2ZXJkYWxlJiMzOTtdLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE1MjUzNzM4ZGZlNTQwN2U5ZGJlZmI5NmZjNjUwZjliLnNldENvbnRlbnQoaHRtbF84ZmY3ZGY5MjMwYzI0ZGEwOTM2ZTViNTdkMTZhMGFkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NDcyMjRhMDA4YjU0MDY0YWUxYjIxZjM4MDZjOTM5ZS5iaW5kUG9wdXAocG9wdXBfMTUyNTM3MzhkZmU1NDA3ZTlkYmVmYjk2ZmM2NTBmOWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDMzYmY0NzkzZWQyNDZlZTlmNzliZDRhYTRlMmIwYzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njg5OTg1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZGVjZmNiNzMyNGI0MWRmOTU2ZWYyOWJiMWU3OGNmYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYjRhNWI0MWVjMmI0OTViYmQ0MmM2YmFmNGE0MTkyNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGI0YTViNDFlYzJiNDk1YmJkNDJjNmJhZjRhNDE5MjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1RoZSBCZWFjaGVzIFdlc3QmIzM5OywgJiMzOTtJbmRpYSBCYXphYXImIzM5O10sIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGRlY2ZjYjczMjRiNDFkZjk1NmVmMjliYjFlNzhjZmEuc2V0Q29udGVudChodG1sXzBiNGE1YjQxZWMyYjQ5NWJiZDQyYzZiYWY0YTQxOTI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQzM2JmNDc5M2VkMjQ2ZWU5Zjc5YmQ0YWE0ZTJiMGMwLmJpbmRQb3B1cChwb3B1cF9kZGVjZmNiNzMyNGI0MWRmOTU2ZWYyOWJiMWU3OGNmYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjkzYjM4MmExZmE0N2ZkODVmZDAwZDQ2ZWQxZmUzOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1OTUyNTUsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNzMzYjk4NjY4ZTY0MWNkYmI4ZTYzYzExMmQ4NGFkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNjdjYjM5MzhkNGY0ZDJmOGFmNTI1ZmUwNTFkNWM5YSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTY3Y2IzOTM4ZDRmNGQyZjhhZjUyNWZlMDUxZDVjOWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1N0dWRpbyBEaXN0cmljdCYjMzk7XSwgRWFzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNzMzYjk4NjY4ZTY0MWNkYmI4ZTYzYzExMmQ4NGFkZC5zZXRDb250ZW50KGh0bWxfYTY3Y2IzOTM4ZDRmNGQyZjhhZjUyNWZlMDUxZDVjOWEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmI5M2IzODJhMWZhNDdmZDg1ZmQwMGQ0NmVkMWZlMzguYmluZFBvcHVwKHBvcHVwX2Y3MzNiOTg2NjhlNjQxY2RiYjhlNjNjMTEyZDg0YWRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FhNWJjOTYyNjgyZDQxZWFiYmMyYjUzOTQ3N2M4NzNkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4MDIwNSwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYWM5ODJhZDczNWE0YjI1ODc0YmI5YmE0ZmY0YjhjOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zODQyZTJkOTA4MWY0ZjljYjJiZTlmMjczNzY3MmEwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzg0MmUyZDkwODFmNGY5Y2IyYmU5ZjI3Mzc2NzJhMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0xhd3JlbmNlIFBhcmsmIzM5O10sIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2FjOTgyYWQ3MzVhNGIyNTg3NGJiOWJhNGZmNGI4Yzguc2V0Q29udGVudChodG1sXzM4NDJlMmQ5MDgxZjRmOWNiMmJlOWYyNzM3NjcyYTA5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FhNWJjOTYyNjgyZDQxZWFiYmMyYjUzOTQ3N2M4NzNkLmJpbmRQb3B1cChwb3B1cF8zYWM5ODJhZDczNWE0YjI1ODc0YmI5YmE0ZmY0YjhjOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85ZDkyZjNkOGE0ZmY0MWU2ODI1MmFhMzBjN2JiNWE1YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjc1MTEsLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmFkNTVkZWU2OWEyNGIxNDkwMmE4ZDYyZGZiYmJjMjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWEzODk5MWJmNzhlNGVjMTg3OTZkNDk5NDA3MTU0MzQgPSAkKCc8ZGl2IGlkPSJodG1sX2VhMzg5OTFiZjc4ZTRlYzE4Nzk2ZDQ5OTQwNzE1NDM0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtEYXZpc3ZpbGxlIE5vcnRoJiMzOTtdLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJhZDU1ZGVlNjlhMjRiMTQ5MDJhOGQ2MmRmYmJiYzIzLnNldENvbnRlbnQoaHRtbF9lYTM4OTkxYmY3OGU0ZWMxODc5NmQ0OTk0MDcxNTQzNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZDkyZjNkOGE0ZmY0MWU2ODI1MmFhMzBjN2JiNWE1YS5iaW5kUG9wdXAocG9wdXBfMmFkNTVkZWU2OWEyNGIxNDkwMmE4ZDYyZGZiYmJjMjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTU4ZmI1ZDkzYWQyNGM5MDkxYmE4OTQ3YzYxNDVhZjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTUzODM0LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMDVlMTkzM2Y1ODM0MmQ1YWIxNmVmNzUzMjRiNDQ1ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80ZWJlZTc5ZjJkMWI0YzU3YTAzZTRhMzIxN2JkY2I0NCA9ICQoJzxkaXYgaWQ9Imh0bWxfNGViZWU3OWYyZDFiNGM1N2EwM2U0YTMyMTdiZGNiNDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O05vcnRoIFRvcm9udG8gV2VzdCYjMzk7XSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMDVlMTkzM2Y1ODM0MmQ1YWIxNmVmNzUzMjRiNDQ1Zi5zZXRDb250ZW50KGh0bWxfNGViZWU3OWYyZDFiNGM1N2EwM2U0YTMyMTdiZGNiNDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTU4ZmI1ZDkzYWQyNGM5MDkxYmE4OTQ3YzYxNDVhZjMuYmluZFBvcHVwKHBvcHVwX2UwNWUxOTMzZjU4MzQyZDVhYjE2ZWY3NTMyNGI0NDVmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NhOTI1NjkwOWI4YTQyZTA4MmY4OWQ0MjFkZDI3ODNlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0MzI0NCwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zM2EyMDA4ZmMyZTM0MzMxODZhNjAwMzVlYjdmOTgzZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMTQ2ZTE4YzYzYzE0MzgyODRmZmZjYzM0NTg1YzQ4OCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTE0NmUxOGM2M2MxNDM4Mjg0ZmZmY2MzNDU4NWM0ODgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0RhdmlzdmlsbGUmIzM5O10sIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzNhMjAwOGZjMmUzNDMzMTg2YTYwMDM1ZWI3Zjk4M2Quc2V0Q29udGVudChodG1sXzExNDZlMThjNjNjMTQzODI4NGZmZmNjMzQ1ODVjNDg4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NhOTI1NjkwOWI4YTQyZTA4MmY4OWQ0MjFkZDI3ODNlLmJpbmRQb3B1cChwb3B1cF8zM2EyMDA4ZmMyZTM0MzMxODZhNjAwMzVlYjdmOTgzZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYzNjNTQ2OTQzZmU0YmU0OWYwODliY2UwMWRkNjE2MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FhNWM2ODNhN2NhYjQ0ZmE4ZDI5Y2U3YmU0NGYzZWFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzExZjQ4MjlmYmY3NzRkMDg4MmE3YTY1ODIwMzY0MjU4ID0gJCgnPGRpdiBpZD0iaHRtbF8xMWY0ODI5ZmJmNzc0ZDA4ODJhN2E2NTgyMDM2NDI1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7TW9vcmUgUGFyayYjMzk7LCAmIzM5O1N1bW1lcmhpbGwgRWFzdCYjMzk7XSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYTVjNjgzYTdjYWI0NGZhOGQyOWNlN2JlNDRmM2VhYS5zZXRDb250ZW50KGh0bWxfMTFmNDgyOWZiZjc3NGQwODgyYTdhNjU4MjAzNjQyNTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2MzYzU0Njk0M2ZlNGJlNDlmMDg5YmNlMDFkZDYxNjMuYmluZFBvcHVwKHBvcHVwX2FhNWM2ODNhN2NhYjQ0ZmE4ZDI5Y2U3YmU0NGYzZWFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkwZmFkYWRkZGE2ODQ0NjQ4ZmMyMDBlZmFkYWNhMjVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg2NDEyMjk5OTk5OTksLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWQzZWRmNjQ5NDY0NDViYmJhM2RiODMwNWRiMzE3OWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTY5ZWI1Y2E4Zjg0NDJhZThjZDAxOWUwZDlkMTgwZjYgPSAkKCc8ZGl2IGlkPSJodG1sX2U2OWViNWNhOGY4NDQyYWU4Y2QwMTllMGQ5ZDE4MGY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtEZWVyIFBhcmsmIzM5OywgJiMzOTtGb3Jlc3QgSGlsbCBTRSYjMzk7LCAmIzM5O1JhdGhuZWxseSYjMzk7LCAmIzM5O1NvdXRoIEhpbGwmIzM5OywgJiMzOTtTdW1tZXJoaWxsIFdlc3QmIzM5O10sIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWQzZWRmNjQ5NDY0NDViYmJhM2RiODMwNWRiMzE3OWUuc2V0Q29udGVudChodG1sX2U2OWViNWNhOGY4NDQyYWU4Y2QwMTllMGQ5ZDE4MGY2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkwZmFkYWRkZGE2ODQ0NjQ4ZmMyMDBlZmFkYWNhMjVkLmJpbmRQb3B1cChwb3B1cF9hZDNlZGY2NDk0NjQ0NWJiYmEzZGI4MzA1ZGIzMTc5ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMDI4NDE3YjAyNDU0ZDZhYTUwMTc4ZDA0ZTU2MDM5NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsLTc5LjM3NzUyOTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg3MDM5MjJiZTQyOTQ1NjU5OGVkMzBmZjViNWQ4NTRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI2OGVjNWViNmQ0ZDQyMWZiMTcxNDUxNzVlMzNkMDYzID0gJCgnPGRpdiBpZD0iaHRtbF8yNjhlYzVlYjZkNGQ0MjFmYjE3MTQ1MTc1ZTMzZDA2MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7Um9zZWRhbGUmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg3MDM5MjJiZTQyOTQ1NjU5OGVkMzBmZjViNWQ4NTRhLnNldENvbnRlbnQoaHRtbF8yNjhlYzVlYjZkNGQ0MjFmYjE3MTQ1MTc1ZTMzZDA2Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMDI4NDE3YjAyNDU0ZDZhYTUwMTc4ZDA0ZTU2MDM5NC5iaW5kUG9wdXAocG9wdXBfODcwMzkyMmJlNDI5NDU2NTk4ZWQzMGZmNWI1ZDg1NGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2FlN2Y5YTdjNzc3NGVmZjljZmFmODBkM2QxMDRhYTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc5NjcsLTc5LjM2NzY3NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzAzNzFhZmQ3ZDkwNDRjOWI1ZjZiNDhkYjA3NGZmZDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmJlZDg2OTg3ZmZiNDIwMzhhZjI5NjU3MTU1NDM5YTYgPSAkKCc8ZGl2IGlkPSJodG1sX2ZiZWQ4Njk4N2ZmYjQyMDM4YWYyOTY1NzE1NTQzOWE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtDYWJiYWdldG93biYjMzk7LCAmIzM5O1N0LiBKYW1lcyBUb3duJiMzOTtdLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMDM3MWFmZDdkOTA0NGM5YjVmNmI0OGRiMDc0ZmZkOS5zZXRDb250ZW50KGh0bWxfZmJlZDg2OTg3ZmZiNDIwMzhhZjI5NjU3MTU1NDM5YTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2FlN2Y5YTdjNzc3NGVmZjljZmFmODBkM2QxMDRhYTAuYmluZFBvcHVwKHBvcHVwXzMwMzcxYWZkN2Q5MDQ0YzliNWY2YjQ4ZGIwNzRmZmQ5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg4ODdmNGVlNWE0ZDQ3ZGY4ZWY0MzVlNmJkZmNlOWZjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1ODU5OSwtNzkuMzgzMTU5OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODVkMWJkZGJhZGM4NDFmMGE2NjI5NDhkZGNhOGI5MmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmM1NjM4NDk4Mzg5NGU4YWJhZTYyNjdjMWMxNDcwZjYgPSAkKCc8ZGl2IGlkPSJodG1sX2JjNTYzODQ5ODM4OTRlOGFiYWU2MjY3YzFjMTQ3MGY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtDaHVyY2ggYW5kIFdlbGxlc2xleSYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODVkMWJkZGJhZGM4NDFmMGE2NjI5NDhkZGNhOGI5MmUuc2V0Q29udGVudChodG1sX2JjNTYzODQ5ODM4OTRlOGFiYWU2MjY3YzFjMTQ3MGY2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg4ODdmNGVlNWE0ZDQ3ZGY4ZWY0MzVlNmJkZmNlOWZjLmJpbmRQb3B1cChwb3B1cF84NWQxYmRkYmFkYzg0MWYwYTY2Mjk0OGRkY2E4YjkyZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNzAxYzhiNTRkMGQ0MWUyOGEwMTE3ZDhkZDVjNzQ5NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NDI1OTksLTc5LjM2MDYzNTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDkzYzFhMDE1Zjc3NGIyZTk5ZjZjM2Y4OTMwZjY5NmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTcyMjg2Mzc0NGYxNGZiYzhhY2FkMTk5OGU2ZTU5YmIgPSAkKCc8ZGl2IGlkPSJodG1sX2E3MjI4NjM3NDRmMTRmYmM4YWNhZDE5OThlNmU1OWJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtIYXJib3VyZnJvbnQmIzM5OywgJiMzOTtSZWdlbnQgUGFyayYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDkzYzFhMDE1Zjc3NGIyZTk5ZjZjM2Y4OTMwZjY5NmIuc2V0Q29udGVudChodG1sX2E3MjI4NjM3NDRmMTRmYmM4YWNhZDE5OThlNmU1OWJiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM3MDFjOGI1NGQwZDQxZTI4YTAxMTdkOGRkNWM3NDk1LmJpbmRQb3B1cChwb3B1cF8wOTNjMWEwMTVmNzc0YjJlOTlmNmMzZjg5MzBmNjk2Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNmI3NDVjZGQwN2E0OWU4YmYzNTM2YTM5YTgyNzQ1YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsLTc5LjM3ODkzNzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRiNmQyZTg4ZDE2ODQ3Yzg4NjBiNzc5MGM0NTViNjZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UzYWJhOTdmNmFlMTQ0NWM4ZWM3OGIyYWQ1ZTUyNjAyID0gJCgnPGRpdiBpZD0iaHRtbF9lM2FiYTk3ZjZhZTE0NDVjOGVjNzhiMmFkNWU1MjYwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7UnllcnNvbiYjMzk7LCAmIzM5O0dhcmRlbiBEaXN0cmljdCYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGI2ZDJlODhkMTY4NDdjODg2MGI3NzkwYzQ1NWI2NmQuc2V0Q29udGVudChodG1sX2UzYWJhOTdmNmFlMTQ0NWM4ZWM3OGIyYWQ1ZTUyNjAyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M2Yjc0NWNkZDA3YTQ5ZThiZjM1MzZhMzlhODI3NDViLmJpbmRQb3B1cChwb3B1cF80YjZkMmU4OGQxNjg0N2M4ODYwYjc3OTBjNDU1YjY2ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMDYzYWI4NmU4Y2E0MTdjODc4MzM5Yjc3ZjkyZGQzYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTQ5MzksLTc5LjM3NTQxNzldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDI1NjYyZGExNDAwNDJlYjliOWM5ZDA3MWNhNTkxOTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODIzZWQ3Y2E5ZGQ3NGQzN2JhMDdiZDJlYTM3NTI1ODcgPSAkKCc8ZGl2IGlkPSJodG1sXzgyM2VkN2NhOWRkNzRkMzdiYTA3YmQyZWEzNzUyNTg3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtTdC4gSmFtZXMgVG93biYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDI1NjYyZGExNDAwNDJlYjliOWM5ZDA3MWNhNTkxOTQuc2V0Q29udGVudChodG1sXzgyM2VkN2NhOWRkNzRkMzdiYTA3YmQyZWEzNzUyNTg3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2IwNjNhYjg2ZThjYTQxN2M4NzgzMzliNzdmOTJkZDNhLmJpbmRQb3B1cChwb3B1cF9kMjU2NjJkYTE0MDA0MmViOWI5YzlkMDcxY2E1OTE5NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NTFmYzM2NzIwOTI0MWJhYmMyNzY0ZWViNWVhNzZlNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwtNzkuMzczMzA2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNTliZDlmYmZjNzM0ZDZmOGY1ZGFjMWE0Y2EyMTYyYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYmIyMGI1Y2FkOTc0YWUzYTBjN2ZiMjllZjY3NTIwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfZmJiMjBiNWNhZDk3NGFlM2EwYzdmYjI5ZWY2NzUyMDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0JlcmN6eSBQYXJrJiMzOTtdLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNTliZDlmYmZjNzM0ZDZmOGY1ZGFjMWE0Y2EyMTYyYy5zZXRDb250ZW50KGh0bWxfZmJiMjBiNWNhZDk3NGFlM2EwYzdmYjI5ZWY2NzUyMDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUxZmMzNjcyMDkyNDFiYWJjMjc2NGVlYjVlYTc2ZTcuYmluZFBvcHVwKHBvcHVwXzE1OWJkOWZiZmM3MzRkNmY4ZjVkYWMxYTRjYTIxNjJjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZlOGEyMWZjOTZiZjRiZDM5MjAxNzZjZjU1MDk5ODNlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wYjBhMjg2NGQxYWM0MDg2YTAwMGMxN2YxZGIzMDBmMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZGUxMTljZTMzZmE0ZmVhYTQ5YWEzYmM2Y2Q4MDI5MyA9ICQoJzxkaXYgaWQ9Imh0bWxfZGRlMTE5Y2UzM2ZhNGZlYWE0OWFhM2JjNmNkODAyOTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0NlbnRyYWwgQmF5IFN0cmVldCYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGIwYTI4NjRkMWFjNDA4NmEwMDBjMTdmMWRiMzAwZjEuc2V0Q29udGVudChodG1sX2RkZTExOWNlMzNmYTRmZWFhNDlhYTNiYzZjZDgwMjkzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZlOGEyMWZjOTZiZjRiZDM5MjAxNzZjZjU1MDk5ODNlLmJpbmRQb3B1cChwb3B1cF8wYjBhMjg2NGQxYWM0MDg2YTAwMGMxN2YxZGIzMDBmMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMzJhY2E3ZjU0NjA0ZDFlYjU5ZmI2YmU3ODIxMGI3MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RjZjBlNGIxODg1YTQyMDJhZTQyYmUwMDJlMTg5NTAxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc3OTkxNDM5YTIzYzQzMzk5OTVlNGRmNGQ0MjRhZDIyID0gJCgnPGRpdiBpZD0iaHRtbF83Nzk5MTQzOWEyM2M0MzM5OTk1ZTRkZjRkNDI0YWQyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7QWRlbGFpZGUmIzM5OywgJiMzOTtLaW5nJiMzOTssICYjMzk7UmljaG1vbmQmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RjZjBlNGIxODg1YTQyMDJhZTQyYmUwMDJlMTg5NTAxLnNldENvbnRlbnQoaHRtbF83Nzk5MTQzOWEyM2M0MzM5OTk1ZTRkZjRkNDI0YWQyMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMzJhY2E3ZjU0NjA0ZDFlYjU5ZmI2YmU3ODIxMGI3My5iaW5kUG9wdXAocG9wdXBfZGNmMGU0YjE4ODVhNDIwMmFlNDJiZTAwMmUxODk1MDEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDlkZWZjNWQ2MmY2NDNiYmE3ZWYwNTU4MTIyYzdjNzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDA4MTU3LC03OS4zODE3NTIyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYzcyZjZmZDRmMDc0OWJlODY1ZmUzODMyYTAwNDk4MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMTU5OTdkM2IxNjY0ZGNjYmY1ZGJiZTg3NGFiMDkzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDE1OTk3ZDNiMTY2NGRjY2JmNWRiYmU4NzRhYjA5MzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0hhcmJvdXJmcm9udCBFYXN0JiMzOTssICYjMzk7VG9yb250byBJc2xhbmRzJiMzOTssICYjMzk7VW5pb24gU3RhdGlvbiYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmM3MmY2ZmQ0ZjA3NDliZTg2NWZlMzgzMmEwMDQ5ODEuc2V0Q29udGVudChodG1sXzAxNTk5N2QzYjE2NjRkY2NiZjVkYmJlODc0YWIwOTM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ5ZGVmYzVkNjJmNjQzYmJhN2VmMDU1ODEyMmM3Yzc5LmJpbmRQb3B1cChwb3B1cF8yYzcyZjZmZDRmMDc0OWJlODY1ZmUzODMyYTAwNDk4MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZjdiMjZlOTIwYTQ0OGJiOTFjYjM3NGJjNzQxMmZlMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzE3NjgsLTc5LjM4MTU3NjQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JjZDZiZTlkMjU4MzQxZTg4NTE5MDhmY2YyMDNiMmIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgyNTAyZTg5MThhMzQ4Y2I4MjRhYTdmNmQ3NDVlYzg4ID0gJCgnPGRpdiBpZD0iaHRtbF84MjUwMmU4OTE4YTM0OGNiODI0YWE3ZjZkNzQ1ZWM4OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7RGVzaWduIEV4Y2hhbmdlJiMzOTssICYjMzk7VG9yb250byBEb21pbmlvbiBDZW50cmUmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JjZDZiZTlkMjU4MzQxZTg4NTE5MDhmY2YyMDNiMmIxLnNldENvbnRlbnQoaHRtbF84MjUwMmU4OTE4YTM0OGNiODI0YWE3ZjZkNzQ1ZWM4OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ZjdiMjZlOTIwYTQ0OGJiOTFjYjM3NGJjNzQxMmZlMy5iaW5kUG9wdXAocG9wdXBfYmNkNmJlOWQyNTgzNDFlODg1MTkwOGZjZjIwM2IyYjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTFlMDIzMzA1NzUwNDgxODlmNTY1MTdkYzNjNjE3ZmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YTY2OWE0ZGQ0OGM0NDJlOTUxNzY1MjI4YmFjOTU4NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZTk3MmU1Yzc2OTE0ZGYyYTY0ZTI4ODNlNTgwZmQ1NiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGU5NzJlNWM3NjkxNGRmMmE2NGUyODgzZTU4MGZkNTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0NvbW1lcmNlIENvdXJ0JiMzOTssICYjMzk7VmljdG9yaWEgSG90ZWwmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdhNjY5YTRkZDQ4YzQ0MmU5NTE3NjUyMjhiYWM5NTg1LnNldENvbnRlbnQoaHRtbF9kZTk3MmU1Yzc2OTE0ZGYyYTY0ZTI4ODNlNTgwZmQ1Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MWUwMjMzMDU3NTA0ODE4OWY1NjUxN2RjM2M2MTdmYS5iaW5kUG9wdXAocG9wdXBfN2E2NjlhNGRkNDhjNDQyZTk1MTc2NTIyOGJhYzk1ODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTA3ZjdhMDY0MDViNGMwNjg5OGJjZDUzNTVmOTQwYWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTE2OTQ4LC03OS40MTY5MzU1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NzIyOWY5MjA2ZTU0MWNhOGQyOGJhYjRmOWJhNDk1NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNWE3ZWI1ZDNmYTY0MDMyYWYzOWUzMzc4MzJkMGY3ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYjVhN2ViNWQzZmE2NDAzMmFmMzllMzM3ODMyZDBmN2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1Jvc2VsYXduJiMzOTtdLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3MjI5ZjkyMDZlNTQxY2E4ZDI4YmFiNGY5YmE0OTU1LnNldENvbnRlbnQoaHRtbF9iNWE3ZWI1ZDNmYTY0MDMyYWYzOWUzMzc4MzJkMGY3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hMDdmN2EwNjQwNWI0YzA2ODk4YmNkNTM1NWY5NDBhYi5iaW5kUG9wdXAocG9wdXBfNjcyMjlmOTIwNmU1NDFjYThkMjhiYWI0ZjliYTQ5NTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzljNTMzMDgxMjUwNGQ3M2IyMDhhNzViNmQ4MmZjYzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTY5NDc2LC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYTNiZjU3MGQ4NTc0MTNlYWQ0Nzc3MzcxZTUxOTVjMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iY2MwNWI2NjRmZTQ0M2FjYjBmOGYwMTQ4ZTgyZWJkMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYmNjMDViNjY0ZmU0NDNhY2IwZjhmMDE0OGU4MmViZDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0ZvcmVzdCBIaWxsIE5vcnRoJiMzOTssICYjMzk7Rm9yZXN0IEhpbGwgV2VzdCYjMzk7XSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYTNiZjU3MGQ4NTc0MTNlYWQ0Nzc3MzcxZTUxOTVjMi5zZXRDb250ZW50KGh0bWxfYmNjMDViNjY0ZmU0NDNhY2IwZjhmMDE0OGU4MmViZDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzljNTMzMDgxMjUwNGQ3M2IyMDhhNzViNmQ4MmZjYzYuYmluZFBvcHVwKHBvcHVwX2FhM2JmNTcwZDg1NzQxM2VhZDQ3NzczNzFlNTE5NWMyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhhODJmNTg2ZTk4NDQ2Mzk5ODYzY2Y5YWM3ZmJkNjU2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcyNzA5NywtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjE1YTEyMDkwZGQ2NGI4ZWJlMDM3NWE5NGJhMDM1NzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGRjZTNlZjRmODJkNDc0MmFlNzhjMDkwMGUwZWY4NjQgPSAkKCc8ZGl2IGlkPSJodG1sXzhkY2UzZWY0ZjgyZDQ3NDJhZTc4YzA5MDBlMGVmODY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtUaGUgQW5uZXgmIzM5OywgJiMzOTtOb3J0aCBNaWR0b3duJiMzOTssICYjMzk7WW9ya3ZpbGxlJiMzOTtdLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxNWExMjA5MGRkNjRiOGViZTAzNzVhOTRiYTAzNTc1LnNldENvbnRlbnQoaHRtbF84ZGNlM2VmNGY4MmQ0NzQyYWU3OGMwOTAwZTBlZjg2NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YTgyZjU4NmU5ODQ0NjM5OTg2M2NmOWFjN2ZiZDY1Ni5iaW5kUG9wdXAocG9wdXBfNjE1YTEyMDkwZGQ2NGI4ZWJlMDM3NWE5NGJhMDM1NzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWNjNDY5MWVmYTk0NGE5ZWJkNzQ1YWU3OTljZWI3MTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI2OTU2LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkwMmZjNmJjYWU3YzQ3YTQ5YzFiYzhhMjU0NThhZjJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA5MDljY2JkNmNmOTQxMGNhMzFkZGFjOGVmMGFlODQ0ID0gJCgnPGRpdiBpZD0iaHRtbF8wOTA5Y2NiZDZjZjk0MTBjYTMxZGRhYzhlZjBhZTg0NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7SGFyYm9yZCYjMzk7LCAmIzM5O1VuaXZlcnNpdHkgb2YgVG9yb250byYjMzk7XSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTAyZmM2YmNhZTdjNDdhNDljMWJjOGEyNTQ1OGFmMmMuc2V0Q29udGVudChodG1sXzA5MDljY2JkNmNmOTQxMGNhMzFkZGFjOGVmMGFlODQ0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFjYzQ2OTFlZmE5NDRhOWViZDc0NWFlNzk5Y2ViNzEyLmJpbmRQb3B1cChwb3B1cF85MDJmYzZiY2FlN2M0N2E0OWMxYmM4YTI1NDU4YWYyYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNTQwMDA5YTU4YjE0YmEwOGJjNTdmNGYyNjc4MDBhYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzIwNTcsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTBlODM5ZDQ3ZTk3NDc2ZDk0YTU4ZWZiMThhMmVjZDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWFjNDU1ZDU2MmUwNDdlN2FlYThjMmJjOTI2MzNjNzMgPSAkKCc8ZGl2IGlkPSJodG1sXzlhYzQ1NWQ1NjJlMDQ3ZTdhZWE4YzJiYzkyNjMzYzczIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtDaGluYXRvd24mIzM5OywgJiMzOTtHcmFuZ2UgUGFyayYjMzk7LCAmIzM5O0tlbnNpbmd0b24gTWFya2V0JiMzOTtdLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMGU4MzlkNDdlOTc0NzZkOTRhNThlZmIxOGEyZWNkNC5zZXRDb250ZW50KGh0bWxfOWFjNDU1ZDU2MmUwNDdlN2FlYThjMmJjOTI2MzNjNzMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzU0MDAwOWE1OGIxNGJhMDhiYzU3ZjRmMjY3ODAwYWEuYmluZFBvcHVwKHBvcHVwXzEwZTgzOWQ0N2U5NzQ3NmQ5NGE1OGVmYjE4YTJlY2Q0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllN2Q0YzE2MzZlZTQ2MjA4OWMzZTg5MmEwMzcxZjBkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4OTQ2NywtNzkuMzk0NDE5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNzZhNWZkYTg1ZDM0ZGE1YThkZTdiMDNhOTgzOWE3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85N2Q4NGY0YTQyMzg0YmE1YTMxMTg0YjlkZWYwNDk5OCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTdkODRmNGE0MjM4NGJhNWEzMTE4NGI5ZGVmMDQ5OTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0NOIFRvd2VyJiMzOTssICYjMzk7QmF0aHVyc3QgUXVheSYjMzk7LCAmIzM5O0lzbGFuZCBhaXJwb3J0JiMzOTssICYjMzk7SGFyYm91cmZyb250IFdlc3QmIzM5OywgJiMzOTtLaW5nIGFuZCBTcGFkaW5hJiMzOTssICYjMzk7UmFpbHdheSBMYW5kcyYjMzk7LCAmIzM5O1NvdXRoIE5pYWdhcmEmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U3NmE1ZmRhODVkMzRkYTVhOGRlN2IwM2E5ODM5YTcyLnNldENvbnRlbnQoaHRtbF85N2Q4NGY0YTQyMzg0YmE1YTMxMTg0YjlkZWYwNDk5OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTdkNGMxNjM2ZWU0NjIwODljM2U4OTJhMDM3MWYwZC5iaW5kUG9wdXAocG9wdXBfZTc2YTVmZGE4NWQzNGRhNWE4ZGU3YjAzYTk4MzlhNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjMwNGY5MzdmNWMyNDIwMTlhYTI2ZTk5MGNlODFlZTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDY0MzUyLC03OS4zNzQ4NDU5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MDNkODMzOGZkNjM0NTc0OWVhY2E5NTQxMDAyZjAyMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MzYyNTJlN2YwNWU0ODU5YmZlYWY2YTJmMGQ2ZDU2YiA9ICQoJzxkaXYgaWQ9Imh0bWxfODM2MjUyZTdmMDVlNDg1OWJmZWFmNmEyZjBkNmQ1NmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1N0biBBIFBPIEJveGVzIDI1IFRoZSBFc3BsYW5hZGUmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwM2Q4MzM4ZmQ2MzQ1NzQ5ZWFjYTk1NDEwMDJmMDIwLnNldENvbnRlbnQoaHRtbF84MzYyNTJlN2YwNWU0ODU5YmZlYWY2YTJmMGQ2ZDU2Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mMzA0ZjkzN2Y1YzI0MjAxOWFhMjZlOTkwY2U4MWVlOS5iaW5kUG9wdXAocG9wdXBfNjAzZDgzMzhmZDYzNDU3NDllYWNhOTU0MTAwMmYwMjApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTNkMTE4ZmI2MDFkNDdhNDllMTllMGZkYWI1NTgwMTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg0MjkyLC03OS4zODIyODAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I3N2U2NDM0OWIxZDQ2YTJhYzNmMmZmZGU1ZjFmYmEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNkZmQ4YzI3OGIyZDQ5MmI4NmIzODIzMjlkYzE2NjA3ID0gJCgnPGRpdiBpZD0iaHRtbF8zZGZkOGMyNzhiMmQ0OTJiODZiMzgyMzI5ZGMxNjYwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7Rmlyc3QgQ2FuYWRpYW4gUGxhY2UmIzM5OywgJiMzOTtVbmRlcmdyb3VuZCBjaXR5JiMzOTtdLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNzdlNjQzNDliMWQ0NmEyYWMzZjJmZmRlNWYxZmJhMi5zZXRDb250ZW50KGh0bWxfM2RmZDhjMjc4YjJkNDkyYjg2YjM4MjMyOWRjMTY2MDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTNkMTE4ZmI2MDFkNDdhNDllMTllMGZkYWI1NTgwMTIuYmluZFBvcHVwKHBvcHVwX2I3N2U2NDM0OWIxZDQ2YTJhYzNmMmZmZGU1ZjFmYmEyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkzZDI5YjNhODVkNDQxZDFiYWMwNjEyNzQ4NTZjYTRhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5NTQyLC03OS40MjI1NjM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEwYTFkNDViMjE5MzQ4NmViZDdhNWRlYTdhMGQyN2JhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E1Yzc3MzZiNjZlNDQzNzI5ZjZiOTk1Y2IyZTZhMTZkID0gJCgnPGRpdiBpZD0iaHRtbF9hNWM3NzM2YjY2ZTQ0MzcyOWY2Yjk5NWNiMmU2YTE2ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7Q2hyaXN0aWUmIzM5O10sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEwYTFkNDViMjE5MzQ4NmViZDdhNWRlYTdhMGQyN2JhLnNldENvbnRlbnQoaHRtbF9hNWM3NzM2YjY2ZTQ0MzcyOWY2Yjk5NWNiMmU2YTE2ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85M2QyOWIzYTg1ZDQ0MWQxYmFjMDYxMjc0ODU2Y2E0YS5iaW5kUG9wdXAocG9wdXBfMTBhMWQ0NWIyMTkzNDg2ZWJkN2E1ZGVhN2EwZDI3YmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTU2YTU5YjQzMmJjNDBmNWEyMzgwZjBmZThmMTVjMjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjkwMDUxMDAwMDAwMSwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZGU2ZmNiZDNjYWI0NzlmODMwMWVmYjQ1Y2JjOWNhNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NThiOGYwYTk1Zjg0ZmJlYmY2NjQyMDNmYmU1NGVkOCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTU4YjhmMGE5NWY4NGZiZWJmNjY0MjAzZmJlNTRlZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0RvdmVyY291cnQgVmlsbGFnZSYjMzk7LCAmIzM5O0R1ZmZlcmluJiMzOTtdLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdkZTZmY2JkM2NhYjQ3OWY4MzAxZWZiNDVjYmM5Y2E1LnNldENvbnRlbnQoaHRtbF85NThiOGYwYTk1Zjg0ZmJlYmY2NjQyMDNmYmU1NGVkOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNTZhNTliNDMyYmM0MGY1YTIzODBmMGZlOGYxNWMyNS5iaW5kUG9wdXAocG9wdXBfN2RlNmZjYmQzY2FiNDc5ZjgzMDFlZmI0NWNiYzljYTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODM4ZjAyZDdhYjNiNDFhYmIwNmE5OWMwOWY2MmQyNWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5MjY3MDAwMDAwMDYsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjc1ZGRiZTcwNjBlNDk1NDg5YzdmMzM2M2IzZTdiZGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTJjYWNmYzg2NmVhNDg2NWE2N2U0YTNlM2IxZTJkYzkgPSAkKCc8ZGl2IGlkPSJodG1sX2UyY2FjZmM4NjZlYTQ4NjVhNjdlNGEzZTNiMWUyZGM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtMaXR0bGUgUG9ydHVnYWwmIzM5OywgJiMzOTtUcmluaXR5JiMzOTtdLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3NWRkYmU3MDYwZTQ5NTQ4OWM3ZjMzNjNiM2U3YmRmLnNldENvbnRlbnQoaHRtbF9lMmNhY2ZjODY2ZWE0ODY1YTY3ZTRhM2UzYjFlMmRjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MzhmMDJkN2FiM2I0MWFiYjA2YTk5YzA5ZjYyZDI1ZS5iaW5kUG9wdXAocG9wdXBfYjc1ZGRiZTcwNjBlNDk1NDg5YzdmMzM2M2IzZTdiZGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmRmODg4NzZhNjg0NDEwOWJkMmQzM2Y4OTEzZDk3MGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mODBiZTljOTI1MTA0OTg3YTFmYWMzMTRmZTYzMTlkYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NGYyNmZmYjdhOGM0NWJkYjUxMGUzNGViZDEwNGIzNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDRmMjZmZmI3YThjNDViZGI1MTBlMzRlYmQxMDRiMzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0Jyb2NrdG9uJiMzOTssICYjMzk7RXhoaWJpdGlvbiBQbGFjZSYjMzk7LCAmIzM5O1BhcmtkYWxlIFZpbGxhZ2UmIzM5O10sIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjgwYmU5YzkyNTEwNDk4N2ExZmFjMzE0ZmU2MzE5ZGIuc2V0Q29udGVudChodG1sXzQ0ZjI2ZmZiN2E4YzQ1YmRiNTEwZTM0ZWJkMTA0YjM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJkZjg4ODc2YTY4NDQxMDliZDJkMzNmODkxM2Q5NzBmLmJpbmRQb3B1cChwb3B1cF9mODBiZTljOTI1MTA0OTg3YTFmYWMzMTRmZTYzMTlkYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMmM1NjE1ZmQ1Njk0ZmZiODg4MTNjZGEzMGE2ZTJhOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MTYwODMsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzU1YTU4ZWE4NzdlNzQ1ZTA5YzE5ZGQwMmNlODY2OTg1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NkZTg5YTVkZTA3YzQ4ZGNhNmU3YzgzZmIyMjExMzgyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNlN2JiOTMxOGM0NjRmYjk5OGIwYWYwZmVlYjg5NmQxID0gJCgnPGRpdiBpZD0iaHRtbF8zZTdiYjkzMThjNDY0ZmI5OThiMGFmMGZlZWI4OTZkMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WyYjMzk7SGlnaCBQYXJrJiMzOTssICYjMzk7VGhlIEp1bmN0aW9uIFNvdXRoJiMzOTtdLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NkZTg5YTVkZTA3YzQ4ZGNhNmU3YzgzZmIyMjExMzgyLnNldENvbnRlbnQoaHRtbF8zZTdiYjkzMThjNDY0ZmI5OThiMGFmMGZlZWI4OTZkMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMmM1NjE1ZmQ1Njk0ZmZiODg4MTNjZGEzMGE2ZTJhOS5iaW5kUG9wdXAocG9wdXBfY2RlODlhNWRlMDdjNDhkY2E2ZTdjODNmYjIyMTEzODIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjFhNTkyMjc2M2JjNDBjOTgxMWJhOWE2YzlkMWMxMmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg5NTk3LC03OS40NTYzMjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNTVhNThlYTg3N2U3NDVlMDljMTlkZDAyY2U4NjY5ODUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDU1MDhjNjQ0MWFmNDk0YjhkNzdmMTlhNTg4NDdmNDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmVkYzQyM2UyNjllNDhhZmJiZWRhM2M1NDExYTJkYWYgPSAkKCc8ZGl2IGlkPSJodG1sX2JlZGM0MjNlMjY5ZTQ4YWZiYmVkYTNjNTQxMWEyZGFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5bJiMzOTtQYXJrZGFsZSYjMzk7LCAmIzM5O1JvbmNlc3ZhbGxlcyYjMzk7XSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNTUwOGM2NDQxYWY0OTRiOGQ3N2YxOWE1ODg0N2Y0NS5zZXRDb250ZW50KGh0bWxfYmVkYzQyM2UyNjllNDhhZmJiZWRhM2M1NDExYTJkYWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjFhNTkyMjc2M2JjNDBjOTgxMWJhOWE2YzlkMWMxMmEuYmluZFBvcHVwKHBvcHVwXzA1NTA4YzY0NDFhZjQ5NGI4ZDc3ZjE5YTU4ODQ3ZjQ1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIwZTQ1ZGU1NzEwYjRjOGY5MzUyZGQwM2UwYzI3MWVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUxNTcwNiwtNzkuNDg0NDQ5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZDViYmIzMDdkMjc0ZjY5OGY5YmRkOTE2ZjAyNzJmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MjUxODNhMTgxZGU0Y2Q1YjQ2Y2JhZTY3ZDM4Yjg5YiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzI1MTgzYTE4MWRlNGNkNWI0NmNiYWU2N2QzOGI4OWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O1J1bm55bWVkZSYjMzk7LCAmIzM5O1N3YW5zZWEmIzM5O10sIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWQ1YmJiMzA3ZDI3NGY2OThmOWJkZDkxNmYwMjcyZmQuc2V0Q29udGVudChodG1sXzcyNTE4M2ExODFkZTRjZDViNDZjYmFlNjdkMzhiODliKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwZTQ1ZGU1NzEwYjRjOGY5MzUyZGQwM2UwYzI3MWVlLmJpbmRQb3B1cChwb3B1cF9hZDViYmIzMDdkMjc0ZjY5OGY5YmRkOTE2ZjAyNzJmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZDE0ZDEzZjhlNGY0YjUyYmJiYjNkMzcwNmM5YmU3NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Mjc0MzksLTc5LjMyMTU1OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF81NWE1OGVhODc3ZTc0NWUwOWMxOWRkMDJjZTg2Njk4NSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NjU5MTAxNTFlZWY0Y2I0OWZjYTdmNmIwMjZmNjE2MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZjA0YzJhMzFjZGU0ZTA0OGM2MmY5NDBhNGRlYWZjZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWYwNGMyYTMxY2RlNGUwNDhjNjJmOTQwYTRkZWFmY2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlsmIzM5O0J1c2luZXNzIFJlcGx5IE1haWwgUHJvY2Vzc2luZyBDZW50cmUgOTY5IEVhc3Rlcm4mIzM5O10sIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDY1OTEwMTUxZWVmNGNiNDlmY2E3ZjZiMDI2ZjYxNjIuc2V0Q29udGVudChodG1sXzVmMDRjMmEzMWNkZTRlMDQ4YzYyZjk0MGE0ZGVhZmNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JkMTRkMTNmOGU0ZjRiNTJiYmJiM2QzNzA2YzliZTc1LmJpbmRQb3B1cChwb3B1cF80NjU5MTAxNTFlZWY0Y2I0OWZjYTdmNmIwMjZmNjE2Mik7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7fab5679fdd8>"
      ]
     },
     "execution_count": 305,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# create map of Toronto using latitude and longitude values\n",
    "map_TO = folium.Map(location=[latitude, longitude], zoom_start=10)\n",
    "\n",
    "# add markers to map\n",
    "for lat, lng, borough, neighbourhood in zip(toronto_data['Latitude'], toronto_data['Longitude'], toronto_data['Borough'], toronto_data['Neighbourhood']):\n",
    "    label = '{}, {}'.format(neighbourhood, borough)\n",
    "    label = folium.Popup(label, parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        [lat, lng],\n",
    "        radius=5,\n",
    "        popup=label,\n",
    "        color='blue',\n",
    "        fill=True,\n",
    "        fill_color='#3186cc',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(map_TO)  \n",
    "    \n",
    "map_TO"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3.6",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
